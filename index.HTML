<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Post</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <main>
        <header>
            <h1>üìù Criar Post</h1>
            <p>Compartilhe suas ideias com o mundo</p>
        </header>

        <section>
            <form id="form-post">
                <h2>Novo Post</h2>

                <label for="titulo-post">T√≠tulo</label>
                <input
                    type="text"
                    id="titulo-post"
                    placeholder="Digite o t√≠tulo do seu post..."
                    required
                >

                <label for="conteudo-post">Conte√∫do</label>
                <textarea
                    id="conteudo-post"
                    placeholder="O que voc√™ est√° pensando?"
                    required
                ></textarea>

                <button type="submit">Publicar Post</button>
            </form>
        </section>

        <article id="post-renderizado">
            <h2 id="renderizador-titulo"></h2>
            <p id="renderizador-conteudo"></p>
        </article>
    </main>

    <script>
        const tituloPost = document.querySelector('#titulo-post');
        const conteudoPost = document.querySelector('#conteudo-post');
        const renderizadorTitulo = document.querySelector('#renderizador-titulo');
        const renderizadorConteudo = document.querySelector('#renderizador-conteudo');
        const formPost = document.querySelector('#form-post');
        const postRenderizado = document.querySelector('#post-renderizado');

        formPost.addEventListener('submit', function(event) {
            event.preventDefault();
            const data = {
                title: tituloPost.value,
                body: conteudoPost.value,
                userId: 1
            };

            fetch('https://jsonplaceholder.typicode.com/posts', {
                method: "POST",
                body: JSON.stringify(data),
                headers: {"Content-type": "application/json; charset=UTF-8"}
            })
            .then(response => response.json())
            .then(data => {
                renderizadorTitulo.innerHTML = data.title;
                renderizadorConteudo.innerHTML = data.body;
                postRenderizado.classList.add('show');
                formPost.reset();
                postRenderizado.scrollIntoView({behavior:'smooth'});
            })
            .catch(error => {
                console.error('Erro ao publicar post:', error);
                alert('Erro ao publicar o post. Tente novamente.');
            });
        });
    </script>
</body>
</html>
